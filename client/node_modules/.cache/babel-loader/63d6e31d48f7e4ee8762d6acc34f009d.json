{"ast":null,"code":"import _slicedToArray from\"/Users/nikolamorice-gallier/Desktop/Projets/online-timesup/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from'react';import NextRound from'./NextRound';import NextTurn from'./NextTurn';import'./Style/timer.css';import'./Style/board.css';import'./Style/game.css';import Board from'./Board';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Game1=function Game1(_ref){var idRoom=_ref.idRoom,socketRef=_ref.socketRef;var yourPlayingRef=useRef(false);var thisRound=useRef(0);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),displayEndTurn=_useState2[0],setDisplayEndTurn=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),displayNextRound=_useState4[0],setDisplayNextRound=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),round=_useState6[0],setRound=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),words=_useState8[0],setWords=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),actualWord=_useState10[0],setActualWord=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),actualRound=_useState12[0],setActualRound=_useState12[1];var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),actualPoints=_useState14[0],setActualPoints=_useState14[1];var _useState15=useState(0),_useState16=_slicedToArray(_useState15,2),actualPointsDelay=_useState16[0],setActualPointsDelay=_useState16[1];var _useState17=useState(),_useState18=_slicedToArray(_useState17,2),actualTeam=_useState18[0],setActualTeam=_useState18[1];var _useState19=useState(),_useState20=_slicedToArray(_useState19,2),actualPlayer=_useState20[0],setActualPlayer=_useState20[1];var _useState21=useState(1),_useState22=_slicedToArray(_useState21,2),time=_useState22[0],setTime=_useState22[1];var _useState23=useState(100),_useState24=_slicedToArray(_useState23,2),forAnimationTime=_useState24[0],setForAnimationTime=_useState24[1];var getRandomInteger=function getRandomInteger(min,max){return Math.floor(Math.random()*(max-min+1))+min;};useEffect(function(){// socketRef.current.emit(\"ask rules\", idRoom)\n// socketRef.current.on(\"rules\", (rulesData: RulesObj) => {\n//     setActualRound(rulesData.round)\n// }) // Surement à modifier\nsocketRef.current.emit(\"ask rules\",idRoom);socketRef.current.on(\"rules\",function(rulesData){if(rulesData.round===2){setTime(rulesData.timeDraw);setForAnimationTime(rulesData.timeDraw);}else{setTime(rulesData.time);setForAnimationTime(rulesData.time);}setRound(rulesData.round);thisRound.current=rulesData.round;// setTimeout(() => {\n//     clearInterval(interval)\n// }, rulesData.time*1500)            \n});socketRef.current.emit(\"ask words\",idRoom);socketRef.current.on(\"words\",function(words){var randomNumber;if(thisRound.current===0){randomNumber=getRandomInteger(0,words.round1.length-1);}else if(thisRound.current===1){randomNumber=getRandomInteger(0,words.round2.length-1);}else{randomNumber=getRandomInteger(0,words.round3.length-1);}if(thisRound.current===0){words.round1.forEach(function(word,index){if(randomNumber===index){setActualWord(word);}});setWords(words.round1);}else if(thisRound.current===1){words.round2.forEach(function(word,index){if(randomNumber===index){setActualWord(word);}});setWords(words.round2);}else{words.round3.forEach(function(word,index){if(randomNumber===index){setActualWord(word);}});setWords(words.round3);}});socketRef.current.on(\"points\",function(points){setActualPoints(points);setTimeout(function(){setActualPointsDelay(points);},1000);});socketRef.current.emit(\"ask teams\",idRoom);socketRef.current.on(\"teams\",function(teams){teams.forEach(function(team){if(team.playing===true){setActualTeam(team.name);team.players.forEach(function(player){if(player.playing===true){if(player.id===socketRef.current.id){yourPlayingRef.current=true;}setActualPlayer(player.pseudo);}});}});});socketRef.current.on(\"display next round\",function(displayBool){setDisplayNextRound(displayBool);});setInterval(function(){setTime(function(time){return time-1;});},1000);},[]);useEffect(function(){if(yourPlayingRef.current===false){var points=document.querySelectorAll('[class*=\"part-circle\"]');for(var index=0;index<points.length;index++){points[index].classList.add('bubble-animNoDelay');}setTimeout(function(){for(var _index=0;_index<points.length;_index++){points[_index].classList.remove('bubble-animNoDelay');}},2500);}},[actualPoints]);var goodRandomWord=function goodRandomWord(){var wordCircle=document.querySelector('.word');var pointsPosition=document.querySelector('.position-points');var pointsPositionDraw=document.querySelector('.position-points-draw');var drop=document.querySelector('.liquid2');var points=document.querySelectorAll('[class*=\"part-circle\"]');console.log(points);for(var index=0;index<points.length;index++){points[index].classList.add('bubble-anim');}if(thisRound.current===0||thisRound.current===1){wordCircle===null||wordCircle===void 0?void 0:wordCircle.classList.add('goodWord-anim');}else{wordCircle===null||wordCircle===void 0?void 0:wordCircle.classList.add('goodWord-anim-draw');}if(pointsPosition!==null){pointsPosition.classList.remove('justify-content-between');pointsPosition.style.justifyContent='flex-end';}if(pointsPositionDraw!==null){pointsPositionDraw.classList.remove('justify-content-between');pointsPositionDraw.style.justifyContent='flex-end';}setTimeout(function(){pointsPosition===null||pointsPosition===void 0?void 0:pointsPosition.classList.add('justify-content-between');pointsPositionDraw===null||pointsPositionDraw===void 0?void 0:pointsPositionDraw.classList.add('justify-content-between');wordCircle===null||wordCircle===void 0?void 0:wordCircle.classList.remove('goodWord-anim');wordCircle===null||wordCircle===void 0?void 0:wordCircle.classList.remove('goodWord-anim-draw');drop===null||drop===void 0?void 0:drop.classList.add('drop-anim');if(wordCircle!==null){wordCircle.style.transform='scale(1)';}},1000);setTimeout(function(){for(var _index2=0;_index2<points.length;_index2++){points[_index2].classList.remove('bubble-anim');}},2500);words.forEach(function(word,index){if(actualWord===word){words.splice(index,1);}});var randomNumber=getRandomInteger(0,words.length-1);words.forEach(function(word,index){if(randomNumber===index){setActualWord(word);}});var addPointObj={idRoom:idRoom,idPlayer:socketRef.current.id};socketRef.current.emit(\"add point\",addPointObj);if(words.length===0){nextRound();}if(thisRound.current===2){var canvas=document.getElementById('board');var ctx=canvas.getContext('2d');var inputColor=document.querySelector('.color-brush');if(inputColor!==null){inputColor.value='#000000';}ctx.clearRect(0,0,0,0);canvas.height=400;socketRef.current.emit(\"erase board\",idRoom);var allPenWidth=document.querySelectorAll('.pen-width li');allPenWidth.forEach(function(penWidth,index){if(index===0){penWidth.classList.add('picked');}else{penWidth.classList.remove('picked');}});ctx.lineWidth=4;}};var nextRound=function nextRound(){setDisplayNextRound(true);if(yourPlayingRef.current===true){var updatedWordsObj={idRoom:idRoom,words:words};socketRef.current.emit(\"update words\",updatedWordsObj);}socketRef.current.emit(\"next round\",idRoom);};var passRandomWord=function passRandomWord(){var randomNumber=getRandomInteger(0,words.length-1);do{randomNumber=getRandomInteger(0,words.length-1);}while(words[randomNumber]===actualWord);words.forEach(function(word,index){if(randomNumber===index){setActualWord(word);}});if(thisRound.current===2){var canvas=document.getElementById('board');var ctx=canvas.getContext('2d');var inputColor=document.querySelector('.color-brush');if(inputColor!==null){inputColor.value='#000000';}ctx.clearRect(0,0,0,0);canvas.height=400;socketRef.current.emit(\"erase board\",idRoom);var allPenWidth=document.querySelectorAll('.pen-width li');allPenWidth.forEach(function(penWidth,index){if(index===0){penWidth.classList.add('picked');}else{penWidth.classList.remove('picked');}});console.log(ctx.lineWidth);ctx.lineWidth=4;console.log(ctx.lineWidth);}};var endTurn=function endTurn(){if(yourPlayingRef.current===true){var updatedWordsObj={idRoom:idRoom,words:words};socketRef.current.emit(\"update words\",updatedWordsObj);}setDisplayEndTurn(true);};return/*#__PURE__*/_jsx(_Fragment,{children:displayNextRound?/*#__PURE__*/_jsx(NextRound,{socketRef:socketRef,idRoom:idRoom}):/*#__PURE__*/_jsx(\"div\",{children:displayEndTurn?/*#__PURE__*/_jsx(NextTurn,{socketRef:socketRef,idRoom:idRoom,playerName:actualPlayer,team:actualTeam,points:actualPoints}):/*#__PURE__*/_jsxs(\"div\",{className:\"transition-game d-flex flex-column\",style:{height:'75vh'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"position-chrono\",children:[/*#__PURE__*/_jsxs(\"h5\",{style:{height:'20vh'},children:[\"Phase \",round+1]}),/*#__PURE__*/_jsx(\"section\",{id:\"chrono-box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"chrono\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"skill\",children:/*#__PURE__*/_jsx(\"div\",{className:\"outer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inner\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"timer-number\",children:[time<1?endTurn():'',time]})})})}),/*#__PURE__*/_jsxs(\"svg\",{width:\"160px\",height:\"160px\",children:[/*#__PURE__*/_jsx(\"defs\",{children:/*#__PURE__*/_jsxs(\"linearGradient\",{id:\"GradientColor\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:\"0%\",stopColor:\"#e91e63\"}),/*#__PURE__*/_jsx(\"stop\",{offset:\"100%\",stopColor:\"#673ab7\"})]})}),/*#__PURE__*/_jsx(\"circle\",{cx:\"80\",cy:\"80\",r:\"70\",strokeLinecap:\"round\",style:{animation:\"timer \".concat(forAnimationTime,\"s linear infinite\")}})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"points\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"points-box\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"part-circle1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"part-circle2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"part-circle3\"}),/*#__PURE__*/_jsx(\"div\",{className:\"part-circle4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"part-circle5\"}),/*#__PURE__*/_jsx(\"div\",{className:\"part-circle6\"}),/*#__PURE__*/_jsx(\"div\",{className:\"part-circle7\"}),/*#__PURE__*/_jsx(\"div\",{className:\"part-circle8\"}),/*#__PURE__*/_jsx(\"div\",{className:\"part-circle9\"}),/*#__PURE__*/_jsx(\"div\",{className:\"part-circle10\"}),/*#__PURE__*/_jsx(\"div\",{className:\"part-circle11\"}),/*#__PURE__*/_jsx(\"div\",{className:\"part-circle12\"}),/*#__PURE__*/_jsx(\"span\",{className:\"empty-circle\"}),yourPlayingRef.current===true?/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'40px'},children:actualPointsDelay>=1?\"\".concat(actualPointsDelay,\" Points\"):\"\".concat(actualPointsDelay,\" Point\")}):/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'40px'},children:actualPoints>=1?\"\".concat(actualPoints,\" Points\"):\"\".concat(actualPoints,\" Point\")})]})})]}),thisRound.current===0||thisRound.current===1?/*#__PURE__*/_jsx(_Fragment,{children:yourPlayingRef.current===true?/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column justify-content-between position-points\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"word\",children:/*#__PURE__*/_jsx(\"div\",{children:actualWord})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row col-4 align-items-center mx-auto\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return passRandomWord();},className:\"passWord\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return goodRandomWord();},className:\"goodWord\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check\"})})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"player-name\",children:actualPlayer}),/*#__PURE__*/_jsx(\"p\",{className:\"text-points\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"de la team \",actualTeam,\" et entrain de jouer\"]})})]})}):/*#__PURE__*/_jsx(_Fragment,{children:yourPlayingRef.current===true?/*#__PURE__*/_jsxs(\"div\",{className:\"row justify-content-between\",children:[/*#__PURE__*/_jsx(Board,{socketRef:socketRef,idRoom:idRoom,imPlaying:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-5 d-flex flex-column justify-content-between position-points-draw\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"word\",children:/*#__PURE__*/_jsx(\"div\",{children:actualWord})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row align-items-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return passRandomWord();},className:\"passWord\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return goodRandomWord();},className:\"goodWord\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check\"})})]})]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"text-light\",children:/*#__PURE__*/_jsx(Board,{socketRef:socketRef,idRoom:idRoom,imPlaying:false})})})]})})});};export default Game1;","map":{"version":3,"sources":["/Users/nikolamorice-gallier/Desktop/Projets/online-timesup/client/src/Components/Game1.tsx"],"names":["React","useState","useEffect","useRef","NextRound","NextTurn","Board","Game1","idRoom","socketRef","yourPlayingRef","thisRound","displayEndTurn","setDisplayEndTurn","displayNextRound","setDisplayNextRound","round","setRound","words","setWords","actualWord","setActualWord","actualRound","setActualRound","actualPoints","setActualPoints","actualPointsDelay","setActualPointsDelay","actualTeam","setActualTeam","actualPlayer","setActualPlayer","time","setTime","forAnimationTime","setForAnimationTime","getRandomInteger","min","max","Math","floor","random","current","emit","on","rulesData","timeDraw","randomNumber","round1","length","round2","round3","forEach","word","index","points","setTimeout","teams","team","playing","name","players","player","id","pseudo","displayBool","setInterval","document","querySelectorAll","classList","add","remove","goodRandomWord","wordCircle","querySelector","pointsPosition","pointsPositionDraw","drop","console","log","style","justifyContent","transform","splice","addPointObj","idPlayer","nextRound","canvas","getElementById","ctx","getContext","inputColor","value","clearRect","height","allPenWidth","penWidth","lineWidth","updatedWordsObj","passRandomWord","endTurn","animation","marginLeft"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useRef} from 'react'\nimport { ListFormat } from 'typescript'\nimport { AdminObj, RulesObj, TeamObj, WordsObj } from '../Types'\nimport NextRound from './NextRound'\nimport NextTurn from './NextTurn'\n\nimport './Style/timer.css';\nimport './Style/board.css';\nimport './Style/game.css';\nimport Board from './Board'\n\ntype Props = {\n    idRoom: string | number\n    socketRef: React.MutableRefObject<any>\n}\n\nconst Game1: React.FC<Props>  = ({ idRoom, socketRef }) => {\n\n    const yourPlayingRef: React.MutableRefObject<boolean | undefined> = useRef(false)\n    const thisRound: React.MutableRefObject<number> = useRef(0)\n\n    const [displayEndTurn, setDisplayEndTurn] = useState<boolean>(false);\n    const [displayNextRound, setDisplayNextRound] = useState<boolean>(false);\n\n    const [round, setRound] = useState<number>(0);\n\n    const [words, setWords] = useState<string []>([]);\n    const [actualWord, setActualWord] = useState<string>();\n    const [actualRound, setActualRound] = useState<number>();\n    const [actualPoints, setActualPoints] = useState<number>(0);\n    const [actualPointsDelay, setActualPointsDelay] = useState<number>(0);\n\n    const [actualTeam, setActualTeam] = useState<string>()\n    const [actualPlayer, setActualPlayer] = useState<string | null | undefined>()\n\n    const [time, setTime] = useState<number>(1)\n    const [forAnimationTime, setForAnimationTime] = useState<number>(100)\n\n    const getRandomInteger = (min: number, max: number) => {\n        return Math.floor(Math.random() * (max - min + 1)) + min;\n    }\n\n    useEffect(() => {\n        \n        // socketRef.current.emit(\"ask rules\", idRoom)\n        // socketRef.current.on(\"rules\", (rulesData: RulesObj) => {\n        //     setActualRound(rulesData.round)\n        // }) // Surement à modifier\n\n        socketRef.current.emit(\"ask rules\", idRoom)\n\n        socketRef.current.on(\"rules\", (rulesData: RulesObj) => {   \n            \n            if (rulesData.round === 2) {\n                setTime(rulesData.timeDraw)\n                setForAnimationTime(rulesData.timeDraw)\n            } else {\n                setTime(rulesData.time)\n                setForAnimationTime(rulesData.time)\n            }\n\n            setRound(rulesData.round)\n\n            thisRound.current = rulesData.round; \n\n            // setTimeout(() => {\n            //     clearInterval(interval)\n            // }, rulesData.time*1500)            \n        })\n\n        socketRef.current.emit(\"ask words\", idRoom);\n        socketRef.current.on(\"words\", (words: WordsObj) => {\n\n            let randomNumber: number;\n\n            if (thisRound.current === 0) {\n                randomNumber = getRandomInteger(0, words.round1.length - 1)\n            } else if (thisRound.current === 1) {\n                randomNumber = getRandomInteger(0, words.round2.length - 1)\n            } else {\n                randomNumber = getRandomInteger(0, words.round3.length - 1)\n            }\n                        \n            if (thisRound.current === 0) {\n                words.round1.forEach((word, index) => {\n                    if (randomNumber === index) {\n                        setActualWord(word)\n                    }\n                })\n                setWords(words.round1);\n            } else if (thisRound.current === 1) {\n                words.round2.forEach((word, index) => {\n                    if (randomNumber === index) {\n                        setActualWord(word)\n                    }\n                })\n                setWords(words.round2);\n            } else {\n                words.round3.forEach((word, index) => {\n                    if (randomNumber === index) {\n                        setActualWord(word)\n                    }\n                })\n                setWords(words.round3);\n            }\n        });\n\n        socketRef.current.on(\"points\", (points: number) => {\n            setActualPoints(points);\n            setTimeout(() => {\n                setActualPointsDelay(points)\n            }, 1000)\n        });\n\n        socketRef.current.emit(\"ask teams\", idRoom);\n        socketRef.current.on(\"teams\", (teams: TeamObj []) => {            \n            teams.forEach((team) => {\n                if (team.playing === true) {                    \n                    setActualTeam(team.name)\n                    team.players.forEach((player) => {\n                        if (player.playing === true) {\n                            if (player.id === socketRef.current.id) {                    \n                                yourPlayingRef.current = true\n                            }  \n                            setActualPlayer(player.pseudo)\n                        }\n                    })\n                }\n            })\n        });\n\n        socketRef.current.on(\"display next round\", (displayBool: boolean) => {\n            setDisplayNextRound(displayBool);\n        })    \n\n        setInterval(() => {\n            setTime(time => time - 1)   \n        }, 1000)\n        \n    }, [])\n\n    useEffect(() => {\n        if (yourPlayingRef.current === false) {\n            let points = document.querySelectorAll('[class*=\"part-circle\"]')\n\n            for (let index = 0; index < points.length; index++) {\n                points[index].classList.add('bubble-animNoDelay')\n            }\n\n            setTimeout(() => {\n                for (let index = 0; index < points.length; index++) {\n                    points[index].classList.remove('bubble-animNoDelay')\n                }\n            }, 2500)\n        }\n        \n    }, [actualPoints])\n\n    const goodRandomWord = () => {  \n        \n        let wordCircle = document.querySelector<HTMLElement>('.word')\n        let pointsPosition = document.querySelector<HTMLElement>('.position-points')\n        let pointsPositionDraw = document.querySelector<HTMLElement>('.position-points-draw')\n        let drop = document.querySelector<HTMLElement>('.liquid2')\n\n        let points = document.querySelectorAll('[class*=\"part-circle\"]')\n        console.log(points);\n\n        for (let index = 0; index < points.length; index++) {\n            points[index].classList.add('bubble-anim')\n        }\n\n        if (thisRound.current === 0 || thisRound.current === 1) {\n            wordCircle?.classList.add('goodWord-anim');\n        } else {\n            wordCircle?.classList.add('goodWord-anim-draw');\n        }\n        \n\n        \n        if (pointsPosition !== null) {\n            pointsPosition.classList.remove('justify-content-between')\n            pointsPosition.style.justifyContent = 'flex-end'\n        }      \n        \n        if (pointsPositionDraw !== null) {\n            pointsPositionDraw.classList.remove('justify-content-between')\n            pointsPositionDraw.style.justifyContent = 'flex-end'\n        }   \n\n        setTimeout(() => {\n            pointsPosition?.classList.add('justify-content-between')\n            pointsPositionDraw?.classList.add('justify-content-between')\n            wordCircle?.classList.remove('goodWord-anim');\n            wordCircle?.classList.remove('goodWord-anim-draw');\n            drop?.classList.add('drop-anim')\n            if (wordCircle !== null) {       \n                wordCircle.style.transform = 'scale(1)'\n            }\n        }, 1000)\n\n        setTimeout(() => {\n            for (let index = 0; index < points.length; index++) {\n                points[index].classList.remove('bubble-anim')\n            }\n        }, 2500)\n        \n        words.forEach((word, index) => {\n            if (actualWord === word) {\n                words.splice(index, 1)                  \n            }\n        })\n        \n        let randomNumber = getRandomInteger(0, words.length - 1)\n\n        words.forEach((word, index) => {\n            if (randomNumber === index) {\n                setActualWord(word)                \n            }\n        })        \n\n        let addPointObj = {\n            idRoom,\n            idPlayer: socketRef.current.id\n        }        \n\n        socketRef.current.emit(\"add point\", addPointObj);\n        \n        if (words.length === 0) {\n            nextRound();\n        }\n\n        if (thisRound.current === 2) {\n            let canvas = document.getElementById('board') as HTMLCanvasElement;        \n\n            let ctx = canvas.getContext('2d') as CanvasRenderingContext2D;\n\n            let inputColor = document.querySelector('.color-brush') as HTMLInputElement\n\n            if (inputColor !== null) {\n                inputColor.value = '#000000'\n            }\n\n            ctx.clearRect(0, 0, 0, 0)\n\n            canvas.height = 400\n\n            socketRef.current.emit(\"erase board\", idRoom);\n\n            let allPenWidth = document.querySelectorAll('.pen-width li');\n\n            allPenWidth.forEach((penWidth, index) => {\n                if (index === 0) {                \n                    penWidth.classList.add('picked')   \n                } else {\n                    penWidth.classList.remove('picked')   \n                }\n            })\n\n            ctx.lineWidth = 4;\n            \n        }\n        \n    }\n\n    const nextRound = () => {\n        setDisplayNextRound(true)\n\n        if (yourPlayingRef.current === true) {\n            let updatedWordsObj= {\n                idRoom,\n                words\n            }\n            \n            socketRef.current.emit(\"update words\", updatedWordsObj);\n        }\n\n        socketRef.current.emit(\"next round\", idRoom);\n    }\n\n    const passRandomWord = () => {\n        let randomNumber = getRandomInteger(0, words.length - 1)\n        \n        do {\n            randomNumber = getRandomInteger(0, words.length - 1)\n        } while (words[randomNumber] === actualWord);\n\n        words.forEach((word, index) => {\n            if (randomNumber === index) {\n                setActualWord(word)\n            }\n        })\n\n        if (thisRound.current === 2) {            \n            let canvas = document.getElementById('board') as HTMLCanvasElement;        \n\n            let ctx = canvas.getContext('2d') as CanvasRenderingContext2D;\n\n            let inputColor = document.querySelector('.color-brush') as HTMLInputElement\n\n            if (inputColor !== null) {\n                inputColor.value = '#000000'\n            }\n        \n            ctx.clearRect(0, 0, 0, 0)\n\n            canvas.height = 400\n\n            socketRef.current.emit(\"erase board\", idRoom);\n\n            let allPenWidth = document.querySelectorAll('.pen-width li');\n\n            allPenWidth.forEach((penWidth, index) => {\n                if (index === 0) {                \n                    penWidth.classList.add('picked')   \n                } else {\n                    penWidth.classList.remove('picked')   \n                }\n            })\n\n            console.log(ctx.lineWidth);            \n\n            ctx.lineWidth = 4;\n\n            console.log(ctx.lineWidth);\n        }\n    }\n\n    const endTurn = () => {\n        if (yourPlayingRef.current === true) {\n            let updatedWordsObj= {\n                idRoom,\n                words\n            }\n            \n            socketRef.current.emit(\"update words\", updatedWordsObj);\n        }\n        \n        setDisplayEndTurn(true)\n    }     \n\n    return (\n        <> \n            { displayNextRound\n                ? <NextRound socketRef={socketRef} idRoom={idRoom} />\n\n                : <div>\n                    { displayEndTurn\n                        ? <NextTurn socketRef={socketRef} idRoom={idRoom} playerName={actualPlayer} team={actualTeam} points={actualPoints} />\n\n                        : <div className=\"transition-game d-flex flex-column\" style={{height: '75vh'}}>  \n                            <div className=\"position-chrono\">\n                                <h5 style={{ height: '20vh'}}>Phase { round + 1 }</h5>\n                                <section id=\"chrono-box\">\n                                    <div className=\"chrono\">\n                                        <div className=\"skill\">\n                                            <div className=\"outer\">\n                                                <div className=\"inner\">\n                                                <div className=\"timer-number\">\n                                                    { time < 1\n                                                        ? endTurn()\n\n                                                        : ''\n                                                    }\n                                                    {time}                                                       \n                                                </div>\n                                                </div>\n                                            </div>          \n                                        </div> \n\n                                        <svg width=\"160px\" height=\"160px\">\n                                        <defs>\n                                            <linearGradient id=\"GradientColor\">\n                                                <stop offset=\"0%\" stopColor=\"#e91e63\" />\n                                                <stop offset=\"100%\" stopColor=\"#673ab7\" />\n                                            </linearGradient>\n                                        </defs>\n                                        <circle cx=\"80\" cy=\"80\" r=\"70\" strokeLinecap=\"round\" style={{ animation: `timer ${forAnimationTime}s linear infinite`}} />\n                                        </svg>\n                                    </div>                           \n                                </section>\n                                <div className=\"points\">                                      \n                                    {/* <div className=\"points-bucket\"></div>\n                                    <div className=\"liquid1\"></div>\n                                    <div className=\"liquid2\"></div> */}\n                                    <div className=\"points-box\">\n                                        <div className=\"part-circle1\"></div>\n                                        <div className=\"part-circle2\"></div>\n                                        <div className=\"part-circle3\"></div>\n                                        <div className=\"part-circle4\"></div>\n                                        <div className=\"part-circle5\"></div>\n                                        <div className=\"part-circle6\"></div>\n                                        <div className=\"part-circle7\"></div>\n                                        <div className=\"part-circle8\"></div>\n                                        <div className=\"part-circle9\"></div>\n                                        <div className=\"part-circle10\"></div>\n                                        <div className=\"part-circle11\"></div>\n                                        <div className=\"part-circle12\"></div>             \n                                        <span className=\"empty-circle\"></span>      \n\n                                        { yourPlayingRef.current === true\n                                            ? <span style={{ marginLeft: '40px' }}>{actualPointsDelay >= 1 ? `${actualPointsDelay} Points` : `${actualPointsDelay} Point`}</span>\n                                            \n                                            :<span style={{ marginLeft: '40px' }}>{actualPoints >= 1 ? `${actualPoints} Points` : `${actualPoints} Point`}</span>\n                                        }                                        \n                                    </div>\n                                </div>\n                            </div>     \n                           \n                            { thisRound.current === 0 || thisRound.current === 1\n                                ? <>\n                                    { yourPlayingRef.current === true\n                                        ? <div className=\"d-flex flex-column justify-content-between position-points\">\n                                            <div className=\"word\">\n                                                <div>{actualWord}</div>\n                                            </div>                                            \n                                            <div className=\"row col-4 align-items-center mx-auto\">                                                \n                                                <button onClick={() => passRandomWord()} className=\"passWord\">\n                                                    <i className=\"fas fa-times\"></i>\n                                                </button>\n                                                <button onClick={() => goodRandomWord()} className=\"goodWord\">\n                                                    <i className=\"fas fa-check\"></i>\n                                                </button>\n                                            </div>                                            \n                                        </div> \n                        \n                                        : <div className=\"\">\n                                            <div className=\"player-name\">\n                                                {actualPlayer}\n                                            </div>       \n                                            <p className=\"text-points\">\n                                                <span>de la team {actualTeam} et entrain de jouer</span>\n                                            </p> \n                                        </div>  \n                                    }   \n                                  </>\n\n                                : <>\n                                    { yourPlayingRef.current === true\n                                        ? <div className=\"row justify-content-between\">                                    \n                                            <Board socketRef={socketRef} idRoom={idRoom} imPlaying={true} />\n                                            <div className=\"col-5 d-flex flex-column justify-content-between position-points-draw\">\n                                                <div className=\"word\">\n                                                    <div>{actualWord}</div>\n                                                </div>                                            \n                                                <div className=\"row align-items-center\">                                       \n                                                    <button onClick={() => passRandomWord()} className=\"passWord\">\n                                                        <i className=\"fas fa-times\"></i>\n                                                    </button>\n                                                    <button onClick={() => goodRandomWord()} className=\"goodWord\">\n                                                        <i className=\"fas fa-check\"></i>\n                                                    </button>\n                                                </div>                                            \n                                            </div> \n                                            \n                                        </div> \n                        \n                                        : <div className=\"text-light\">\n                                            <Board socketRef={socketRef} idRoom={idRoom} imPlaying={false} />\n                                        </div>  \n                                    }\n                                  </>\n                            }                  \n                \n                                                                         \n                        </div>\n                    }\n                 </div>                         \n            }\n            \n        </>\n        \n    )\n}\n\nexport default Game1\n"]},"metadata":{},"sourceType":"module"}