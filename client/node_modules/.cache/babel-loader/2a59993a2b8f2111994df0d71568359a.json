{"ast":null,"code":"import _toConsumableArray from\"/Users/nikolamorice-gallier/Desktop/Projets/online-timesup/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/nikolamorice-gallier/Desktop/Projets/online-timesup/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{v4 as uuidv4}from'uuid';import'./Style/createTeams.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreateTeams=function CreateTeams(_ref){var idRoom=_ref.idRoom,socketRef=_ref.socketRef;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),displayAddPlayer=_useState2[0],setDisplayAddPlayer=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),displayAddPlayerByTeamNumber=_useState4[0],setDisplayAddPlayerByTeamNumber=_useState4[1];// DISPLAY //\nvar _useState5=useState(),_useState6=_slicedToArray(_useState5,2),myId=_useState6[0],setMyId=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),teamName=_useState8[0],setTeamName=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),teams=_useState10[0],setTeams=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),teamPlayers=_useState12[0],setTeamPlayers=_useState12[1];// TEAMS //\nvar _useState13=useState(),_useState14=_slicedToArray(_useState13,2),users=_useState14[0],setUsers=_useState14[1];// USERS //\nuseEffect(function(){setMyId(socketRef.current.id);socketRef.current.emit(\"ask users\",idRoom);socketRef.current.emit(\"ask teams\",idRoom);socketRef.current.emit(\"ask messages\",idRoom);socketRef.current.on(\"users\",function(usersData){setUsers(usersData);});socketRef.current.on(\"teams\",function(teamsData){setTeams(teamsData);});},[displayAddPlayer]);var handleCreateTeam=function handleCreateTeam(e){e.preventDefault();if(teamName.length!==0){var teamId=uuidv4();var teamObj={};if((teams===null||teams===void 0?void 0:teams.length)===0){teamObj={name:teamName,points:0,players:[],playedCount:0,idTeam:teamId,playing:true,idRoom:idRoom};}else{teamObj={name:teamName,points:0,players:[],playedCount:0,idTeam:teamId,playing:false,idRoom:idRoom};}setTeamName('');socketRef.current.emit(\"create team\",teamObj);}};var displayAddPlayers=function displayAddPlayers(index){setDisplayAddPlayer(!displayAddPlayer);setDisplayAddPlayerByTeamNumber(index);};var handleChangeSelect=function handleChangeSelect(e){var idAlreadyExist;teamPlayers.map(function(player){if(player.id===e.target.value){idAlreadyExist=true;}});if(idAlreadyExist!==true&&users!==undefined){users.map(function(user){if(user!==null&&user!==undefined&&user.id===e.target.value){setTeamPlayers([].concat(_toConsumableArray(teamPlayers),[{pseudo:user.pseudo,id:user.id,playing:false}]));}});}};var handleAddPlayerToTeam=function handleAddPlayerToTeam(e,teamId){e.preventDefault();var teamPlayerObj={teamPlayers:teamPlayers,teamId:teamId,idRoom:idRoom};setTeamPlayers([]);setDisplayAddPlayer(!displayAddPlayer);socketRef.current.emit(\"place player in team\",teamPlayerObj);};var handleRemovePlayer=function handleRemovePlayer(playerId,teamId){var removePlayerObj={playerId:playerId,teamId:teamId,playing:false,idRoom:idRoom};socketRef.current.emit(\"remove player from team\",removePlayerObj);};var handleRemoveTeam=function handleRemoveTeam(teamId){var removeTeamObj={teamId:teamId,idRoom:idRoom};socketRef.current.emit(\"remove team\",removeTeamObj);};// const handleRemovePlayerFromPreviewTeam = (playerId: string | number | undefined,) => {\n//     setTeamPlayers(prevTeamPlayers => (\n//         prevTeamPlayers.filter((player) => player.id !== playerId)\n//     ))        \n// }\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"team col-md-7 slide\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mt-2\",children:\"\\xC9quipes\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCreateTeam,children:[/*#__PURE__*/_jsx(\"input\",{value:teamName,onChange:function onChange(e){return setTeamName(e.target.value);},placeholder:\"Nom de l'\\xE9quipe\",className:\"mx-2 mon-input\",type:\"text\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"mx-2 mon-bouton\",children:\"Valider\"})]})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"row justify-content-center mt-4 px-3\",children:teams!==undefined?teams.map(function(team,index){return/*#__PURE__*/_jsx(\"li\",{className:\"p-1 my-2 col-md-6 slide\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"team-border\",children:[/*#__PURE__*/_jsx(\"i\",{onClick:function onClick(){return handleRemoveTeam(team.idTeam);},className:\"mon-bouton rounded-circle fas fa-times\"}),/*#__PURE__*/_jsx(\"h4\",{children:team.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"row p-1 justify-content-center\",children:[/*#__PURE__*/_jsx(\"ul\",{className:\"col-md-8\",children:team.players.map(function(player,index){return/*#__PURE__*/_jsxs(\"li\",{className:\"grow\",children:[player.pseudo,\" \",/*#__PURE__*/_jsx(\"i\",{onClick:function onClick(){return handleRemovePlayer(player.id,team.idTeam);},className:\"fas fa-times-circle\"})]},index);})}),/*#__PURE__*/_jsxs(\"button\",{className:\"col-md-4 my-2 room-bouton rounded\",onClick:function onClick(){return displayAddPlayers(index);},type:\"button\",children:[\"Ajouter joueur \",/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-caret-down\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:displayAddPlayer&&displayAddPlayerByTeamNumber===index?/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return handleAddPlayerToTeam(e,team.idTeam);},className:\"col-md-10 p-1 team-form dropdown-unfold\",children:[/*#__PURE__*/_jsx(\"select\",{multiple:true,onChange:handleChangeSelect,children:users===null||users===void 0?void 0:users.map(function(user,index){if(user.available===true){return/*#__PURE__*/_jsx(\"option\",{value:user.id,children:user.pseudo},index);}})}),/*#__PURE__*/_jsx(\"ul\",{children:teamPlayers.map(function(player,index){return/*#__PURE__*/_jsxs(\"li\",{className:\"slide preview-player\",id:\"\".concat(player.id),children:[player.pseudo,/*#__PURE__*/_jsx(\"hr\",{})]},index);})}),/*#__PURE__*/_jsx(\"button\",{className:\"orange-button\",type:\"submit\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check\"})})]}):''})]})},index);}):''})]});};export default CreateTeams;","map":{"version":3,"sources":["/Users/nikolamorice-gallier/Desktop/Projets/online-timesup/client/src/Components/CreateTeams.tsx"],"names":["React","useEffect","useState","v4","uuidv4","CreateTeams","idRoom","socketRef","displayAddPlayer","setDisplayAddPlayer","displayAddPlayerByTeamNumber","setDisplayAddPlayerByTeamNumber","myId","setMyId","teamName","setTeamName","teams","setTeams","teamPlayers","setTeamPlayers","users","setUsers","current","id","emit","on","usersData","teamsData","handleCreateTeam","e","preventDefault","length","teamId","teamObj","name","points","players","playedCount","idTeam","playing","displayAddPlayers","index","handleChangeSelect","idAlreadyExist","map","player","target","value","undefined","user","pseudo","handleAddPlayerToTeam","teamPlayerObj","handleRemovePlayer","playerId","removePlayerObj","handleRemoveTeam","removeTeamObj","team","available"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { AdminObj, TeamObj } from '../Types';\nimport { v4 as uuidv4 } from 'uuid';\nimport './Style/createTeams.css';\n\ntype Props = {\n    idRoom: string | number\n    socketRef: React.MutableRefObject<any>\n}\n\ntype TeamPlayers = {\n    id: string | number | undefined\n    pseudo: string | null | undefined\n    playing: boolean\n}\n\nconst CreateTeams: React.FC<Props> = ({ idRoom, socketRef }) => {\n\n    const [displayAddPlayer, setDisplayAddPlayer] = useState<boolean>(false)\n    const [displayAddPlayerByTeamNumber, setDisplayAddPlayerByTeamNumber] = useState<number>(0)\n    // DISPLAY //\n    const [myId, setMyId] = useState<string | number>()\n\n    const [teamName, setTeamName] = useState<string>('')\n    const [teams, setTeams] = useState<TeamObj[]>()\n    const [teamPlayers, setTeamPlayers] = useState<TeamPlayers []>([])\n    // TEAMS //\n\n    const [users, setUsers] = useState<AdminObj[]>()\n    // USERS //\n\n    useEffect(() => {\n        setMyId(socketRef.current.id)\n\n        socketRef.current.emit(\"ask users\", idRoom)\n        socketRef.current.emit(\"ask teams\", idRoom)\n        socketRef.current.emit(\"ask messages\", idRoom)\n        \n        socketRef.current.on(\"users\", (usersData: AdminObj []) => {                      \n            setUsers(usersData);\n        })\n\n        socketRef.current.on(\"teams\", (teamsData: TeamObj[]) => {                                                                 \n            setTeams(teamsData)\n        })\n\n    }, [displayAddPlayer])\n\n    const handleCreateTeam = (e: React.ChangeEvent<HTMLFormElement>) => {\n        e.preventDefault()\n\n        if (teamName.length !== 0) {\n            let teamId = uuidv4()\n\n            let teamObj = {}\n\n            if (teams?.length === 0) {\n                teamObj = {\n                    name: teamName,\n                    points: 0,\n                    players: [],\n                    playedCount: 0,\n                    idTeam: teamId,\n                    playing: true,\n                    idRoom\n                }\n            } else {\n                teamObj = {\n                    name: teamName,\n                    points: 0,\n                    players: [],\n                    playedCount: 0,\n                    idTeam: teamId,\n                    playing: false,\n                    idRoom\n                }\n            }\n            setTeamName('') \n            socketRef.current.emit(\"create team\", teamObj)\n        }\n    }\n\n    const displayAddPlayers = (index: number) => {\n        setDisplayAddPlayer(!displayAddPlayer)\n\n        setDisplayAddPlayerByTeamNumber(index)\n    }\n\n    const handleChangeSelect = (e: any) => {\n        let idAlreadyExist\n        teamPlayers.map((player) => {\n            if (player.id === e.target.value) {                \n                idAlreadyExist = true\n            }\n        })    \n        \n        if (idAlreadyExist !== true && users !== undefined) {\n            users.map((user) => {\n                if (user !== null && user !== undefined && user.id === e.target.value) {                    \n                    setTeamPlayers([...teamPlayers, {pseudo: user.pseudo, id: user.id, playing: false}])\n                } \n            })\n        }\n    }\n\n    const handleAddPlayerToTeam = (e: any, teamId: string | number) => {\n        e.preventDefault()\n\n        const teamPlayerObj = {\n            teamPlayers,\n            teamId,\n            idRoom\n        }\n\n        setTeamPlayers([])\n        setDisplayAddPlayer(!displayAddPlayer)\n        \n        socketRef.current.emit(\"place player in team\", teamPlayerObj)\n    }\n\n    const handleRemovePlayer = (playerId: string | number | undefined, teamId: string | number) => {        \n        \n        const removePlayerObj = {\n            playerId,\n            teamId,\n            playing : false,\n            idRoom\n        }\n        \n        socketRef.current.emit(\"remove player from team\", removePlayerObj)\n    }\n\n    const handleRemoveTeam = (teamId: string | number) => {\n        const removeTeamObj = {\n            teamId,\n            idRoom\n        }\n\n        socketRef.current.emit(\"remove team\", removeTeamObj)\n    }\n\n    // const handleRemovePlayerFromPreviewTeam = (playerId: string | number | undefined,) => {\n    //     setTeamPlayers(prevTeamPlayers => (\n    //         prevTeamPlayers.filter((player) => player.id !== playerId)\n    //     ))        \n    // }\n\n    return (\n        <div className=\"team col-md-7 slide\">\n            <div>\n                <h3 className=\"mt-2\">Équipes</h3>\n                <form onSubmit={handleCreateTeam}>\n                    <input value={teamName} onChange={(e) => setTeamName(e.target.value)} placeholder=\"Nom de l'équipe\" className=\"mx-2 mon-input\" type=\"text\"/>\n                    <button type=\"submit\" className=\"mx-2 mon-bouton\">Valider</button>\n                </form>\n            </div> \n                <ul className=\"row justify-content-center mt-4 px-3\">\n                    { teams !== undefined\n                        ? teams.map((team, index) => {                        \n                            return <li className=\"p-1 my-2 col-md-6 slide\" key={index}>\n                                    <div className=\"team-border\">\n                                        <i onClick={() => handleRemoveTeam(team.idTeam)} className=\"mon-bouton rounded-circle fas fa-times\"></i>\n                                        <h4>{team.name}</h4>\n                                        <div className=\"row p-1 justify-content-center\">     \n                                        <ul className=\"col-md-8\">\n                                                {team.players.map((player, index) => {\n                                                    return <li className=\"grow\" key={index}>{player.pseudo} <i onClick={() => handleRemovePlayer(player.id, team.idTeam)} className=\"fas fa-times-circle\"></i></li>\n                                                })}\n                                            </ul>                                       \n                                            <button className=\"col-md-4 my-2 room-bouton rounded\" onClick={() => displayAddPlayers(index)} type=\"button\">\n                                                Ajouter joueur <i className=\"fas fa-caret-down\"></i>\n                                            </button>                                            \n                                        </div>                                        \n                                        <div className=\"row justify-content-center\">\n                                            { displayAddPlayer && displayAddPlayerByTeamNumber === index\n                                                ? <form onSubmit={(e) => handleAddPlayerToTeam(e, team.idTeam)} className=\"col-md-10 p-1 team-form dropdown-unfold\">\n                                                    <select multiple={true} onChange={handleChangeSelect}>\n                                                        { users?.map((user, index) => {                                                            \n                                                            if (user.available === true) {\n                                                                return <option value={user.id} key={index}>{user.pseudo}</option>                                                                                                                                                                                                \n                                                            } \n                                                        })}\n                                                    </select>\n                                                    <ul>\n                                                        { teamPlayers.map((player, index) => {\n                                                            return <li className=\"slide preview-player\"\n                                                                       key={index}\n                                                                       id={`${player.id}`}>\n                                                                {player.pseudo} \n                                                                {/* <i onClick={() => handleRemovePlayerFromPreviewTeam(player.id)} \n                                                                   className=\"mx-1 fas fa-backspace\">\n                                                                </i>  */}\n                                                                <hr/>\n                                                            </li>\n                                                        })}\n                                                    </ul>\n                                                    <button className=\"orange-button\" type=\"submit\">\n                                                        <i className=\"fas fa-check\"></i>\n                                                    </button>\n                                                 </form>\n        \n                                                : ''\n                                            }\n                                        </div>                                        \n                                    </div>\n                                   </li>\n                        })\n\n                        : ''\n                    }\n                </ul>\n        </div>\n    )\n}\n\nexport default CreateTeams\n"]},"metadata":{},"sourceType":"module"}