{"ast":null,"code":"var _jsxFileName = \"/Users/nikolamorice-gallier/Desktop/Work/online-timesup/client/src/Components/Room.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport CreateTeams from './CreateTeams';\nimport Messenger from './Messenger';\nimport StartGameTransition from './StartGame';\nimport './Style/room.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Room = ({\n  roomData,\n  error,\n  socketRef\n}) => {\n  _s();\n\n  const [displayAddWord, setDisplayAddWord] = useState(false);\n  const [displaySetWordsSize, setDisplaySetWordsSize] = useState(false);\n  const [displayCreateTeam, setDisplayCreateTeam] = useState(false);\n  const [displayStartGame, setDisplayStartGame] = useState(false); // DISPLAY //\n\n  const [word, setWord] = useState('');\n  const [words, setWords] = useState([]);\n  const [wordsLength, setWordsLength] = useState(0);\n  const [allWords, setAllWords] = useState([]); // WORDS //\n\n  const [nbrWords, setNbrWords] = useState(5);\n  const [time, setTime] = useState(45);\n  const [drawTime, setDrawTime] = useState(90);\n  const [rules, setRules] = useState();\n  const [round, setRound] = useState(); // RULES //\n\n  const [users, setUsers] = useState(); // USERS //\n\n  const inputRef = React.useRef();\n  useEffect(() => {\n    socketRef.current.emit(\"ask share rooms\", true);\n    socketRef.current.emit(\"ask rules\", roomData.id);\n    socketRef.current.on(\"start game prvw\", start => {\n      setDisplayStartGame(start);\n    });\n    socketRef.current.on(\"share rooms\", data => {\n      if (roomData.id !== '') {\n        Object.keys(data).map(id => {\n          if (roomData.id === id) {\n            setUsers(data[id].users);\n          }\n\n          return true;\n        });\n      }\n    });\n    socketRef.current.on(\"words\", words => {\n      setAllWords(words);\n      setWordsLength(words.length);\n    });\n    socketRef.current.on(\"rules\", rulesData => {\n      setRules(rulesData); // Display \"Rules have been updated\"\n    });\n  }, [roomData]);\n\n  const copyLink = e => {\n    inputRef.current.select();\n    document.execCommand('copy');\n    e.target.focus();\n  };\n\n  const handleAddWord = e => {\n    e.preventDefault();\n\n    if (word.length !== 0) {\n      if ((rules === null || rules === void 0 ? void 0 : rules.numberOfWords) === null && words.length > 2) {\n        words.splice(words.length, 1);\n        setWord('');\n        window.alert('Tu ne peux plus ajouter de mots pour le moment ! Il fau attendre que l\\' admin de la room mette en place les régles');\n      } else {\n        console.log(words.length, '>', rules === null || rules === void 0 ? void 0 : rules.numberOfWords);\n\n        if (rules && (rules === null || rules === void 0 ? void 0 : rules.numberOfWords) !== null && words.length > (rules === null || rules === void 0 ? void 0 : rules.numberOfWords) - 1) {\n          console.log('test');\n          setWord('');\n          window.alert('Tu ne peux plus ajouter de mots');\n        } else {\n          setWords([...words, word]);\n          const wordData = {\n            word: word,\n            idRoom: roomData.id\n          };\n          socketRef.current.emit(\"add word\", wordData);\n          setWord('');\n        }\n      }\n    }\n  };\n\n  const handleRulesSet = e => {\n    e.preventDefault();\n    const rulesData = {\n      numberOfWords: nbrWords,\n      time: time,\n      timeDraw: drawTime,\n      round: 1,\n      idRoom: roomData.id\n    };\n    socketRef.current.emit(\"set rules\", rulesData);\n  };\n\n  const startGamePreview = () => {\n    socketRef.current.emit(\"start game preview\", roomData.id);\n    socketRef.current.emit(\"set playing team and player\", roomData.id);\n    setDisplayStartGame(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: displayStartGame ? /*#__PURE__*/_jsxDEV(StartGameTransition, {\n      socketRef: socketRef,\n      idRoom: roomData.id\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 19\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"room container grow\",\n      children: [error, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex flex-column justify-content-between align-items-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"mb-3\",\n            children: roomData === undefined ? '' : roomData.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"ID Room\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"mx-auto copy-input\",\n                ref: inputRef,\n                type: \"text\",\n                defaultValue: roomData === undefined ? '' : roomData.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"mon-bouton mx-2 mb-3 rounded\",\n                onClick: e => copyLink(e),\n                style: {\n                  filter: 'hue-rotate(18deg)'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-clone\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 154\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row justify-content-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-auto\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"room-bouton\",\n                  onClick: () => setDisplaySetWordsSize(!displaySetWordsSize),\n                  type: \"button\",\n                  children: [\"R\\xE9gles \", /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-caret-down\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 155,\n                    columnNumber: 52\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"position-dropdown\",\n                  children: roomData.admin.id === socketRef.current.id ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: displaySetWordsSize ? /*#__PURE__*/_jsxDEV(\"form\", {\n                      onSubmit: handleRulesSet,\n                      className: \"dropdowned-item d-flex flex-column dropdown-unfold\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"text-start\",\n                        children: \"Nombre de mots/joueurs\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 162,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        value: nbrWords,\n                        className: \"w-25\",\n                        onChange: e => setNbrWords(parseFloat(e.target.value)),\n                        type: \"number\",\n                        min: \"3\",\n                        max: \"1000\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 163,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"text-start mt-2\",\n                        children: \"Temps Round 1 et 2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 170,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        value: time,\n                        className: \"w-25\",\n                        onChange: e => setTime(parseFloat(e.target.value)),\n                        type: \"number\",\n                        min: \"5\",\n                        max: \"1000\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 171,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"text-start mt-2\",\n                        children: \"Temps Round 3\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 178,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        value: drawTime,\n                        className: \"w-25\",\n                        onChange: e => setDrawTime(parseFloat(e.target.value)),\n                        type: \"number\",\n                        min: \"30\",\n                        max: \"1000\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 179,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-end\",\n                        children: /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"orange-button\",\n                          type: \"submit\",\n                          children: /*#__PURE__*/_jsxDEV(\"i\", {\n                            className: \"fas fa-check\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 187,\n                            columnNumber: 113\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 187,\n                          columnNumber: 65\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 186,\n                        columnNumber: 61\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 161,\n                      columnNumber: 59\n                    }, this) : ''\n                  }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: displaySetWordsSize ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"dropdowned-item d-flex flex-column dropdown-unfold\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Nombre de mots/joueurs\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 198,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: (rules === null || rules === void 0 ? void 0 : rules.numberOfWords) === null ? \"5\" : rules === null || rules === void 0 ? void 0 : rules.numberOfWords\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 199,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Temps round 1 et 2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 200,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: (rules === null || rules === void 0 ? void 0 : rules.numberOfWords) === null ? \"45\" : rules === null || rules === void 0 ? void 0 : rules.time\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 201,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Temps round 3\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 202,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: (rules === null || rules === void 0 ? void 0 : rules.numberOfWords) === null ? \"90\" : rules === null || rules === void 0 ? void 0 : rules.timeDraw\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 203,\n                        columnNumber: 61\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 197,\n                      columnNumber: 59\n                    }, this) : ''\n                  }, void 0, false)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-auto\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"room-bouton\",\n                  onClick: () => setDisplayAddWord(!displayAddWord),\n                  type: \"button\",\n                  children: [\"Ajouter un mot \", /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-caret-down\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 214,\n                    columnNumber: 60\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"position-dropdown\",\n                  children: displayAddWord ? /*#__PURE__*/_jsxDEV(\"form\", {\n                    onSubmit: handleAddWord,\n                    className: \"dropdowned-item row dropdown-unfold justify-content-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      value: word,\n                      onChange: e => setWord(e.target.value),\n                      className: \"w-75 mr-3\",\n                      type: \"text\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 219,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"orange-button\",\n                      type: \"submit\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-check\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 220,\n                        columnNumber: 101\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 220,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 218,\n                    columnNumber: 51\n                  }, this) : ''\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 37\n              }, this), roomData.admin.id === socketRef.current.id ? /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"room-bouton me-1\",\n                  onClick: () => setDisplayCreateTeam(!displayCreateTeam),\n                  children: displayCreateTeam ? 'Voir Messages' : 'Créer Équipes'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"room-bouton ms-1\",\n                  onClick: () => startGamePreview(),\n                  children: \"Test Round\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 43\n              }, this) : '', displayCreateTeam ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"team-position\",\n                children: /*#__PURE__*/_jsxDEV(CreateTeams, {\n                  idRoom: roomData.id,\n                  socketRef: socketRef\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 39\n              }, this) : '']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mt-3 justify-content-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-4 users\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row justify-content-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"word-count-all\",\n                  children: [wordsLength, \"/\", rules && users && (users === null || users === void 0 ? void 0 : users.length) > 3 ? (rules === null || rules === void 0 ? void 0 : rules.numberOfWords) * (users === null || users === void 0 ? void 0 : users.length) : \"20\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"mt-2\",\n                  children: \"Joueurs\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"word-count-perso\",\n                  children: [words.length, \"/\", rules && rules.numberOfWords !== null ? rules.numberOfWords : \"3\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: users !== undefined ? users.map((user, index) => {\n                  if (roomData.admin.id === user.id) {\n                    return /*#__PURE__*/_jsxDEV(\"li\", {\n                      className: \"grow\",\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [user.pseudo, \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"fas fa-star\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 258,\n                          columnNumber: 82\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 258,\n                        columnNumber: 65\n                      }, this)\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 257,\n                      columnNumber: 60\n                    }, this);\n                  } else {\n                    return /*#__PURE__*/_jsxDEV(\"li\", {\n                      className: \"grow\",\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: user.pseudo\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 262,\n                        columnNumber: 65\n                      }, this)\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 261,\n                      columnNumber: 60\n                    }, this);\n                  }\n                }) : ''\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Messenger, {\n              idRoom: roomData.id,\n              socketRef: socketRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 20\n    }, this)\n  }, void 0, false);\n};\n\n_s(Room, \"srYnrp0y6Vq3JefWUkHjz3l+K0Y=\");\n\n_c = Room;\nexport default Room;\n\nvar _c;\n\n$RefreshReg$(_c, \"Room\");","map":{"version":3,"sources":["/Users/nikolamorice-gallier/Desktop/Work/online-timesup/client/src/Components/Room.tsx"],"names":["React","useEffect","useState","CreateTeams","Messenger","StartGameTransition","Room","roomData","error","socketRef","displayAddWord","setDisplayAddWord","displaySetWordsSize","setDisplaySetWordsSize","displayCreateTeam","setDisplayCreateTeam","displayStartGame","setDisplayStartGame","word","setWord","words","setWords","wordsLength","setWordsLength","allWords","setAllWords","nbrWords","setNbrWords","time","setTime","drawTime","setDrawTime","rules","setRules","round","setRound","users","setUsers","inputRef","useRef","current","emit","id","on","start","data","Object","keys","map","length","rulesData","copyLink","e","select","document","execCommand","target","focus","handleAddWord","preventDefault","numberOfWords","splice","window","alert","console","log","wordData","idRoom","handleRulesSet","timeDraw","startGamePreview","undefined","name","filter","admin","parseFloat","value","user","index","pseudo"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { AdminObj, DataRoomObjWithKey, RoomObj, RulesObj } from '../Types'\nimport CreateTeams from './CreateTeams';\nimport Messenger from './Messenger'\nimport StartGameTransition from './StartGame';\nimport './Style/room.css';\n\ntype Props = {\n    roomData: RoomObj\n    error: string\n    socketRef: React.MutableRefObject<any>\n}\n\nconst Room: React.FC<Props> = ({ roomData, error, socketRef }) => {\n\n    const [displayAddWord, setDisplayAddWord] = useState<boolean>(false)\n    const [displaySetWordsSize, setDisplaySetWordsSize] = useState<boolean>(false)\n    const [displayCreateTeam, setDisplayCreateTeam] = useState<boolean>(false)\n\n    const [displayStartGame, setDisplayStartGame] = useState<boolean>(false)\n    // DISPLAY //\n\n\n    const [word, setWord] = useState<string>('')\n    const [words, setWords] = useState<string []>([])\n    const [wordsLength, setWordsLength] = useState<number>(0)\n    const [allWords, setAllWords] = useState<string []>([])\n    // WORDS //\n\n    const [nbrWords, setNbrWords] = useState<number>(5)\n    const [time, setTime] = useState<number>(45)\n    const [drawTime, setDrawTime] = useState<number>(90)\n    const [rules, setRules] = useState<RulesObj>()\n    const [round, setRound] = useState<number>()\n    // RULES //\n\n    const [users, setUsers] = useState<AdminObj[]>()\n    // USERS //\n\n    const inputRef = React.useRef() as React.MutableRefObject<HTMLInputElement>;\n\n    useEffect(() => {\n        socketRef.current.emit(\"ask share rooms\", true)\n        socketRef.current.emit(\"ask rules\", roomData.id)\n\n        socketRef.current.on(\"start game prvw\", (start: boolean) => {\n            setDisplayStartGame(start)\n        })\n\n        socketRef.current.on(\"share rooms\", (data: DataRoomObjWithKey) => {                        \n            if (roomData.id !== '') {\n                Object.keys(data).map((id) => {                    \n                    if (roomData.id === id) {\n                        setUsers(data[id].users)            \n                    }\n                    return true\n                })\n            }\n        })\n\n        socketRef.current.on(\"words\", (words: string []) => {\n            setAllWords(words)\n            \n            setWordsLength(words.length);\n        })\n\n        socketRef.current.on(\"rules\", (rulesData: RulesObj) => {\n            setRules(rulesData);\n            // Display \"Rules have been updated\"\n        })\n\n    }, [roomData])\n\n\n    const copyLink = (e: any) => {\n        inputRef.current.select();\n\n        document.execCommand('copy');\n\n        e.target.focus();\n    }\n    \n    const handleAddWord = (e: React.ChangeEvent<HTMLFormElement>) => {\n        e.preventDefault()\n\n        if (word.length !== 0) {\n            if (rules?.numberOfWords === null && words.length > 2 ) {\n                words.splice(words.length ,1)\n                setWord('')\n                window.alert('Tu ne peux plus ajouter de mots pour le moment ! Il fau attendre que l\\' admin de la room mette en place les régles')                \n            } else {\n                console.log(words.length, '>', rules?.numberOfWords);\n                \n                if (rules && rules?.numberOfWords !== null && words.length > rules?.numberOfWords - 1) {\n                    console.log('test');\n                    \n                    setWord('')\n                    window.alert('Tu ne peux plus ajouter de mots')\n                } else {                    \n                    setWords([...words, word])\n    \n                    const wordData = {\n                        word: word,\n                        idRoom: roomData.id\n                    }\n    \n                    socketRef.current.emit(\"add word\", wordData)\n                    setWord('')\n                }\n            }\n        }\n    }\n\n    const handleRulesSet = (e: React.ChangeEvent<HTMLFormElement>) => {\n        e.preventDefault()        \n\n        const rulesData = {\n            numberOfWords: nbrWords,\n            time: time,\n            timeDraw: drawTime,\n            round: 1,\n            idRoom: roomData.id,\n        }\n\n        socketRef.current.emit(\"set rules\", rulesData)\n    }\n\n    const startGamePreview = () => {\n        socketRef.current.emit(\"start game preview\", roomData.id)\n\n        socketRef.current.emit(\"set playing team and player\", roomData.id)\n\n        setDisplayStartGame(true)\n    }\n\n    return (\n        <>\n            { displayStartGame\n                ? <StartGameTransition socketRef={socketRef} idRoom={roomData.id}/>\n\n                :  <div className=\"room container grow\">\n                    {error}\n                    <div className=\"d-flex flex-column justify-content-between align-items-between\">\n                        <div>\n                            <h2 className=\"mb-3\">{roomData === undefined ? '' : roomData.name}</h2>\n                            <div className=\"row\">\n                                <label>ID Room</label>\n                                <div>\n                                    <input className=\"mx-auto copy-input\" ref={inputRef} type=\"text\" defaultValue={roomData === undefined ? '' : roomData.id}/>\n                                    <button className=\"mon-bouton mx-2 mb-3 rounded\" onClick={(e) => copyLink(e)} style={{ filter: 'hue-rotate(18deg)'}}><i className=\"fas fa-clone\"></i></button>\n                                </div>                                \n                                <div className=\"row justify-content-between\">\n                                    <div className=\"w-auto\">\n                                        <button className=\"room-bouton\" onClick={() => setDisplaySetWordsSize(!displaySetWordsSize)} type=\"button\">\n                                            Régles <i className=\"fas fa-caret-down\"></i>\n                                        </button>\n                                        <div className=\"position-dropdown\">\n                                            { roomData.admin.id === socketRef.current.id\n                                                ? <> \n                                                    { displaySetWordsSize \n                                                        ? <form onSubmit={handleRulesSet} className=\"dropdowned-item d-flex flex-column dropdown-unfold\">\n                                                            <label className=\"text-start\">Nombre de mots/joueurs</label>\n                                                            <input value={nbrWords} \n                                                                className=\"w-25\"\n                                                                onChange={(e) => setNbrWords(parseFloat(e.target.value))} \n                                                                type=\"number\"\n                                                                min=\"3\"\n                                                                max=\"1000\"       \n                                                            />\n                                                            <label className=\"text-start mt-2\">Temps Round 1 et 2</label>\n                                                            <input value={time} \n                                                                className=\"w-25\"\n                                                                onChange={(e) => setTime(parseFloat(e.target.value))} \n                                                                type=\"number\"\n                                                                min=\"5\"\n                                                                max=\"1000\"       \n                                                            />\n                                                            <label className=\"text-start mt-2\">Temps Round 3</label>\n                                                            <input value={drawTime} \n                                                                className=\"w-25\"\n                                                                onChange={(e) => setDrawTime(parseFloat(e.target.value))} \n                                                                type=\"number\"\n                                                                min=\"30\"\n                                                                max=\"1000\"       \n                                                            />   \n                                                            <div className=\"text-end\">\n                                                                <button className=\"orange-button\" type=\"submit\"><i className=\"fas fa-check\"></i></button>\n                                                            </div>\n                                                          </form>\n                                                        \n                                                        : ''\n                                                    }\n                                                </>\n                                            \n                                                : <>\n                                                    { displaySetWordsSize \n                                                        ? <div className=\"dropdowned-item d-flex flex-column dropdown-unfold\">\n                                                            <span>Nombre de mots/joueurs</span>\n                                                            <p>{ rules?.numberOfWords === null ? \"5\" : rules?.numberOfWords }</p>\n                                                            <span>Temps round 1 et 2</span>\n                                                            <p>{ rules?.numberOfWords === null ? \"45\" : rules?.time }</p>\n                                                            <span>Temps round 3</span>\n                                                            <p>{ rules?.numberOfWords === null ? \"90\" : rules?.timeDraw }</p>                                               \n                                                        </div>\n    \n                                                        : ''\n                                                    }\n                                                </>\n                                            }                                    \n                                        </div>\n                                    </div>\n                                    <div className=\"w-auto\">\n                                        <button className=\"room-bouton\" onClick={() => setDisplayAddWord(!displayAddWord)} type=\"button\">\n                                            Ajouter un mot <i className=\"fas fa-caret-down\"></i>\n                                        </button>\n                                        <div className=\"position-dropdown\">\n                                            { displayAddWord \n                                                ? <form onSubmit={handleAddWord} className=\"dropdowned-item row dropdown-unfold justify-content-between\">\n                                                    <input value={word} onChange={(e) => setWord(e.target.value)} className=\"w-75 mr-3\" type=\"text\"/>\n                                                    <button className=\"orange-button\" type=\"submit\"><i className=\"fas fa-check\"></i></button>\n                                                </form>\n        \n                                                : ''\n                                            }\n                                        </div>\n                                    </div>\n                                    { roomData.admin.id === socketRef.current.id \n                                        ? <div>\n                                            <button className=\"room-bouton me-1\" onClick={() => setDisplayCreateTeam(!displayCreateTeam)}>{displayCreateTeam ? 'Voir Messages' : 'Créer Équipes'}</button>\n                                            <button className=\"room-bouton ms-1\" onClick={() => startGamePreview()}>Test Round</button>\n                                        </div>\n\n                                        : ''\n                                    }\n                                    { displayCreateTeam\n                                    ? <div className=\"team-position\">\n                                        <CreateTeams idRoom={roomData.id} socketRef={socketRef} />\n                                    </div> \n                                \n                                    : ''                    \n                                }  \n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"container\">\n                            <div className=\"row mt-3 justify-content-between\">\n                                <div className=\"col-md-4 users\">\n                                    <div className=\"row justify-content-between\">\n                                        <p className=\"word-count-all\">{wordsLength}/{rules && users && users?.length > 3 ? rules?.numberOfWords * users?.length : \"20\"}</p>\n                                        <h3 className=\"mt-2\">Joueurs</h3>\n                                        <p className=\"word-count-perso\">{words.length}/{rules && rules.numberOfWords !== null ? rules.numberOfWords : \"3\"}</p>\n                                    </div>\n                                    <ul>\n                                        { users !== undefined\n                                            ? users.map((user, index) => {\n                                                if (roomData.admin.id === user.id) {\n                                                    return <li key={index} className=\"grow\">\n                                                                <p>{user.pseudo} <i className=\"fas fa-star\"></i></p>\n                                                        </li>\n                                                } else {                                        \n                                                    return <li key={index} className=\"grow\">\n                                                                <p>{user.pseudo}</p>\n                                                        </li>\n                                                }\n                                            })\n        \n                                            : ''\n                                        }\n                                    </ul>\n                                </div>\n                                <Messenger idRoom={roomData.id} socketRef={socketRef} />                              \n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n            }\n        </>\n    )\n}\n\nexport default Room\n"]},"metadata":{},"sourceType":"module"}