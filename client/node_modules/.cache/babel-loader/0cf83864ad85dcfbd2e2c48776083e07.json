{"ast":null,"code":"var _jsxFileName = \"/Users/nikolamorice-gallier/Desktop/Work/online-timesup/client/src/Components/Room.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport CreateTeams from './CreateTeams';\nimport Messenger from './Messenger';\nimport './Style/room.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Room = ({\n  roomData,\n  error,\n  socketRef\n}) => {\n  _s();\n\n  const [displayAddWord, setDisplayAddWord] = useState(false);\n  const [displaySetWordsSize, setDisplaySetWordsSize] = useState(false);\n  const [displayCreateTeam, setDisplayCreateTeam] = useState(false);\n  const [displayStartGame, setDisplayStartGame] = useState(false); // DISPLAY //\n\n  const [word, setWord] = useState('');\n  const [words, setWords] = useState([]);\n  const [wordsLength, setWordsLength] = useState(0);\n  const [allWords, setAllWords] = useState([]); // WORDS //\n\n  const [nbrWords, setNbrWords] = useState(5);\n  const [time, setTime] = useState(45);\n  const [drawTime, setDrawTime] = useState(90);\n  const [rules, setRules] = useState(); // RULES //\n\n  const [users, setUsers] = useState(); // USERS //\n\n  const inputRef = React.useRef();\n  useEffect(() => {\n    socketRef.current.emit(\"ask share rooms\", true);\n    socketRef.current.emit(\"ask messages\", roomData.id);\n    socketRef.current.emit(\"ask rules\", roomData.id);\n    socketRef.current.on(\"share rooms\", data => {\n      if (roomData.id !== '') {\n        Object.keys(data).map(id => {\n          if (roomData.id === id) {\n            setUsers(data[id].users);\n          }\n\n          return true;\n        });\n      }\n    });\n    socketRef.current.on(\"words\", words => {\n      setAllWords(words);\n      console.log(words);\n      setWordsLength(words.length);\n    });\n    socketRef.current.on(\"rules\", rulesData => {\n      setRules(rulesData); // Display \"Rules have been updated\"\n    });\n  }, [roomData]);\n\n  const copyLink = e => {\n    inputRef.current.select();\n    document.execCommand('copy');\n    e.target.focus();\n  };\n\n  const handleAddWord = e => {\n    e.preventDefault();\n\n    if (word.length !== 0) {\n      if ((rules === null || rules === void 0 ? void 0 : rules.numberOfWords) === null && words.length > 2) {\n        words.splice(words.length, 1);\n        setWord('');\n        window.alert('Tu ne peux plus ajouter de mots pour le moment ! Il fau attendre que l\\' admin de la room mette en place les rÃ©gles');\n      } else {\n        console.log(words.length, '>', rules === null || rules === void 0 ? void 0 : rules.numberOfWords);\n\n        if (rules && (rules === null || rules === void 0 ? void 0 : rules.numberOfWords) !== null && words.length > (rules === null || rules === void 0 ? void 0 : rules.numberOfWords) - 1) {\n          console.log('test');\n          setWord('');\n          window.alert('Tu ne peux plus ajouter de mots');\n        } else {\n          setWords([...words, word]);\n          const wordData = {\n            word: word,\n            idRoom: roomData.id\n          };\n          socketRef.current.emit(\"add word\", wordData);\n          setWord('');\n        }\n      }\n    }\n  };\n\n  const handleRulesSet = e => {\n    e.preventDefault();\n    const rulesData = {\n      numberOfWords: nbrWords,\n      time: time,\n      timeDraw: drawTime,\n      idRoom: roomData.id\n    };\n    socketRef.current.emit(\"set rules\", rulesData);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: displayStartGame ? 'start' : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"room container grow\",\n      children: [error, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex flex-column justify-content-between align-items-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"mb-3\",\n            children: roomData === undefined ? '' : roomData.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"ID Room\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"mx-auto copy-input\",\n                ref: inputRef,\n                type: \"text\",\n                defaultValue: roomData === undefined ? '' : roomData.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"mon-bouton mx-2 mb-3 rounded\",\n                onClick: e => copyLink(e),\n                style: {\n                  filter: 'hue-rotate(18deg)'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-clone\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 154\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row justify-content-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-auto\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"room-bouton\",\n                  onClick: () => setDisplaySetWordsSize(!displaySetWordsSize),\n                  type: \"button\",\n                  children: [\"R\\xE9gles \", /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-caret-down\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 142,\n                    columnNumber: 52\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"position-dropdown\",\n                  children: roomData.admin.id === socketRef.current.id ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: displaySetWordsSize ? /*#__PURE__*/_jsxDEV(\"form\", {\n                      onSubmit: handleRulesSet,\n                      className: \"dropdowned-item d-flex flex-column dropdown-unfold\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"text-start\",\n                        children: \"Nombre de mots/joueurs\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 149,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        value: nbrWords,\n                        className: \"w-25\",\n                        onChange: e => setNbrWords(parseFloat(e.target.value)),\n                        type: \"number\",\n                        min: \"3\",\n                        max: \"1000\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 150,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"text-start\",\n                        children: \"Temps round 1 et 2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 157,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        value: time,\n                        className: \"w-25\",\n                        onChange: e => setTime(parseFloat(e.target.value)),\n                        type: \"number\",\n                        min: \"30\",\n                        max: \"1000\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 158,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"row justify-content-between\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"d-flex flex-column\",\n                          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                            className: \"text-start\",\n                            children: \"Temps round 3\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 167,\n                            columnNumber: 69\n                          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                            value: drawTime,\n                            className: \"w-25\",\n                            onChange: e => setDrawTime(parseFloat(e.target.value)),\n                            type: \"number\",\n                            min: \"30\",\n                            max: \"1000\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 168,\n                            columnNumber: 69\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 166,\n                          columnNumber: 65\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: /*#__PURE__*/_jsxDEV(\"button\", {\n                            type: \"submit\",\n                            children: /*#__PURE__*/_jsxDEV(\"i\", {\n                              className: \"fas fa-check\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 177,\n                              columnNumber: 91\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 177,\n                            columnNumber: 69\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 176,\n                          columnNumber: 65\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 165,\n                        columnNumber: 61\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 148,\n                      columnNumber: 59\n                    }, this) : ''\n                  }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: displaySetWordsSize ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"dropdowned-item d-flex flex-column dropdown-unfold\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Nombre de mots/joueurs\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 189,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: (rules === null || rules === void 0 ? void 0 : rules.numberOfWords) === null ? \"5\" : rules === null || rules === void 0 ? void 0 : rules.numberOfWords\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 190,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Temps round 1 et 2 (conseil 45s)\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 191,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: (rules === null || rules === void 0 ? void 0 : rules.numberOfWords) === null ? \"45\" : rules === null || rules === void 0 ? void 0 : rules.time\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 192,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Temps round 3 (conseil 90s)\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 193,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: (rules === null || rules === void 0 ? void 0 : rules.numberOfWords) === null ? \"90\" : rules === null || rules === void 0 ? void 0 : rules.timeDraw\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 194,\n                        columnNumber: 61\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 188,\n                      columnNumber: 59\n                    }, this) : ''\n                  }, void 0, false)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-auto\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"room-bouton\",\n                  onClick: () => setDisplayAddWord(!displayAddWord),\n                  type: \"button\",\n                  children: [\"Ajouter un mot \", /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-caret-down\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 205,\n                    columnNumber: 60\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"position-dropdown\",\n                  children: displayAddWord ? /*#__PURE__*/_jsxDEV(\"form\", {\n                    onSubmit: handleAddWord,\n                    className: \"dropdowned-item row dropdown-unfold justify-content-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      value: word,\n                      onChange: e => setWord(e.target.value),\n                      className: \"w-75 mr-3\",\n                      type: \"text\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 210,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"submit\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-check\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 211,\n                        columnNumber: 75\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 211,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 51\n                  }, this) : ''\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 37\n              }, this), roomData.admin.id === socketRef.current.id ? /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"room-bouton\",\n                onClick: () => setDisplayCreateTeam(!displayCreateTeam),\n                children: \"Cr\\xE9er \\xC9quipes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 43\n              }, this) : '']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mt-3 justify-content-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-4 users\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row justify-content-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"word-count-all\",\n                  children: [wordsLength, \"/\", rules && users && (users === null || users === void 0 ? void 0 : users.length) > 3 ? (rules === null || rules === void 0 ? void 0 : rules.numberOfWords) * (users === null || users === void 0 ? void 0 : users.length) : \"20\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"mt-2\",\n                  children: \"Joueurs\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"word-count-perso\",\n                  children: [words.length, \"/\", rules && rules.numberOfWords !== null ? rules.numberOfWords : \"3\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: users !== undefined ? users.map((user, index) => {\n                  if (roomData.admin.id === user.id) {\n                    return /*#__PURE__*/_jsxDEV(\"li\", {\n                      className: \"grow\",\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: [user.pseudo, \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"fas fa-star\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 239,\n                          columnNumber: 82\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 239,\n                        columnNumber: 65\n                      }, this)\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 238,\n                      columnNumber: 60\n                    }, this);\n                  } else {\n                    return /*#__PURE__*/_jsxDEV(\"li\", {\n                      className: \"grow\",\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: user.pseudo\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 243,\n                        columnNumber: 65\n                      }, this)\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 242,\n                      columnNumber: 60\n                    }, this);\n                  }\n                }) : ''\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 33\n            }, this), displayCreateTeam ? /*#__PURE__*/_jsxDEV(CreateTeams, {\n              idRoom: roomData.id,\n              socketRef: socketRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 39\n            }, this) : /*#__PURE__*/_jsxDEV(Messenger, {\n              idRoom: roomData.id,\n              socketRef: socketRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 39\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 20\n    }, this)\n  }, void 0, false);\n};\n\n_s(Room, \"35nFOU5vvw8Z70L/Y8sQbjUGo+0=\");\n\n_c = Room;\nexport default Room;\n\nvar _c;\n\n$RefreshReg$(_c, \"Room\");","map":{"version":3,"sources":["/Users/nikolamorice-gallier/Desktop/Work/online-timesup/client/src/Components/Room.tsx"],"names":["React","useEffect","useState","CreateTeams","Messenger","Room","roomData","error","socketRef","displayAddWord","setDisplayAddWord","displaySetWordsSize","setDisplaySetWordsSize","displayCreateTeam","setDisplayCreateTeam","displayStartGame","setDisplayStartGame","word","setWord","words","setWords","wordsLength","setWordsLength","allWords","setAllWords","nbrWords","setNbrWords","time","setTime","drawTime","setDrawTime","rules","setRules","users","setUsers","inputRef","useRef","current","emit","id","on","data","Object","keys","map","console","log","length","rulesData","copyLink","e","select","document","execCommand","target","focus","handleAddWord","preventDefault","numberOfWords","splice","window","alert","wordData","idRoom","handleRulesSet","timeDraw","undefined","name","filter","admin","parseFloat","value","user","index","pseudo"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { AdminObj, DataRoomObjWithKey, RoomObj, RulesObj } from '../Types'\nimport CreateTeams from './CreateTeams';\nimport Messenger from './Messenger'\nimport './Style/room.css';\n\ntype Props = {\n    roomData: RoomObj\n    error: string\n    socketRef: React.MutableRefObject<any>\n}\n\nconst Room: React.FC<Props> = ({ roomData, error, socketRef }) => {\n\n    const [displayAddWord, setDisplayAddWord] = useState<boolean>(false)\n    const [displaySetWordsSize, setDisplaySetWordsSize] = useState<boolean>(false)\n    const [displayCreateTeam, setDisplayCreateTeam] = useState<boolean>(false)\n\n    const [displayStartGame, setDisplayStartGame] = useState<boolean>(false)\n    // DISPLAY //\n\n\n    const [word, setWord] = useState<string>('')\n    const [words, setWords] = useState<string []>([])\n    const [wordsLength, setWordsLength] = useState<number>(0)\n    const [allWords, setAllWords] = useState<string []>([])\n    // WORDS //\n\n    const [nbrWords, setNbrWords] = useState<number>(5)\n    const [time, setTime] = useState<number>(45)\n    const [drawTime, setDrawTime] = useState<number>(90)\n    const [rules, setRules] = useState<RulesObj>()\n    // RULES //\n\n    const [users, setUsers] = useState<AdminObj[]>()\n    // USERS //\n\n    const inputRef = React.useRef() as React.MutableRefObject<HTMLInputElement>;\n\n    useEffect(() => {\n        socketRef.current.emit(\"ask share rooms\", true)\n        socketRef.current.emit(\"ask messages\", roomData.id)\n        socketRef.current.emit(\"ask rules\", roomData.id)\n\n        socketRef.current.on(\"share rooms\", (data: DataRoomObjWithKey) => {                        \n            if (roomData.id !== '') {\n                Object.keys(data).map((id) => {                    \n                    if (roomData.id === id) {\n                        setUsers(data[id].users)            \n                    }\n                    return true\n                })\n            }\n        })\n\n        socketRef.current.on(\"words\", (words: string []) => {\n            setAllWords(words)\n            console.log(words);\n            \n            setWordsLength(words.length);\n        })\n\n        socketRef.current.on(\"rules\", (rulesData: RulesObj) => {\n            setRules(rulesData);\n            // Display \"Rules have been updated\"\n        })\n\n    }, [roomData])\n\n\n    const copyLink = (e: any) => {\n        inputRef.current.select();\n\n        document.execCommand('copy');\n\n        e.target.focus();\n    }\n    \n    const handleAddWord = (e: React.ChangeEvent<HTMLFormElement>) => {\n        e.preventDefault()\n\n        if (word.length !== 0) {\n            if (rules?.numberOfWords === null && words.length > 2 ) {\n                words.splice(words.length ,1)\n                setWord('')\n                window.alert('Tu ne peux plus ajouter de mots pour le moment ! Il fau attendre que l\\' admin de la room mette en place les rÃ©gles')                \n            } else {\n                console.log(words.length, '>', rules?.numberOfWords);\n                \n                if (rules && rules?.numberOfWords !== null && words.length > rules?.numberOfWords - 1) {\n                    console.log('test');\n                    \n                    setWord('')\n                    window.alert('Tu ne peux plus ajouter de mots')\n                } else {                    \n                    setWords([...words, word])\n    \n                    const wordData = {\n                        word: word,\n                        idRoom: roomData.id\n                    }\n    \n                    socketRef.current.emit(\"add word\", wordData)\n                    setWord('')\n                }\n            }\n        }\n    }\n\n    const handleRulesSet = (e: React.ChangeEvent<HTMLFormElement>) => {\n        e.preventDefault()        \n\n        const rulesData = {\n            numberOfWords: nbrWords,\n            time: time,\n            timeDraw: drawTime,\n            idRoom: roomData.id,\n        }\n\n        socketRef.current.emit(\"set rules\", rulesData)\n    }\n\n    return (\n        <>\n            { displayStartGame\n                ? 'start'\n\n                :  <div className=\"room container grow\">\n                    {error}\n                    <div className=\"d-flex flex-column justify-content-between align-items-between\">\n                        <div>\n                            <h2 className=\"mb-3\">{roomData === undefined ? '' : roomData.name}</h2>\n                            <div className=\"row\">\n                                <label>ID Room</label>\n                                <div>\n                                    <input className=\"mx-auto copy-input\" ref={inputRef} type=\"text\" defaultValue={roomData === undefined ? '' : roomData.id}/>\n                                    <button className=\"mon-bouton mx-2 mb-3 rounded\" onClick={(e) => copyLink(e)} style={{ filter: 'hue-rotate(18deg)'}}><i className=\"fas fa-clone\"></i></button>\n                                </div>                                \n                                <div className=\"row justify-content-between\">\n                                    <div className=\"w-auto\">\n                                        <button className=\"room-bouton\" onClick={() => setDisplaySetWordsSize(!displaySetWordsSize)} type=\"button\">\n                                            RÃ©gles <i className=\"fas fa-caret-down\"></i>\n                                        </button>\n                                        <div className=\"position-dropdown\">\n                                            { roomData.admin.id === socketRef.current.id\n                                                ? <> \n                                                    { displaySetWordsSize \n                                                        ? <form onSubmit={handleRulesSet} className=\"dropdowned-item d-flex flex-column dropdown-unfold\">\n                                                            <label className=\"text-start\">Nombre de mots/joueurs</label>\n                                                            <input value={nbrWords} \n                                                                className=\"w-25\"\n                                                                onChange={(e) => setNbrWords(parseFloat(e.target.value))} \n                                                                type=\"number\"\n                                                                min=\"3\"\n                                                                max=\"1000\"       \n                                                            />\n                                                            <label className=\"text-start\">Temps round 1 et 2</label>\n                                                            <input value={time} \n                                                                className=\"w-25\"\n                                                                onChange={(e) => setTime(parseFloat(e.target.value))} \n                                                                type=\"number\"\n                                                                min=\"30\"\n                                                                max=\"1000\"       \n                                                            />\n                                                            <div className=\"row justify-content-between\">\n                                                                <div className=\"d-flex flex-column\">\n                                                                    <label className=\"text-start\">Temps round 3</label>\n                                                                    <input value={drawTime} \n                                                                        className=\"w-25\"\n                                                                        onChange={(e) => setDrawTime(parseFloat(e.target.value))} \n                                                                        type=\"number\"\n                                                                        min=\"30\"\n                                                                        max=\"1000\"       \n                                                                    />   \n                                                                </div>\n                                                                <div>\n                                                                    <button type=\"submit\"><i className=\"fas fa-check\"></i></button>\n                                                                </div>                                             \n                                                            </div>\n                                                            </form>\n                                                        \n                                                        : ''\n                                                    }\n                                                </>\n                                            \n                                                : <>\n                                                    { displaySetWordsSize \n                                                        ? <div className=\"dropdowned-item d-flex flex-column dropdown-unfold\">\n                                                            <span>Nombre de mots/joueurs</span>\n                                                            <p>{ rules?.numberOfWords === null ? \"5\" : rules?.numberOfWords }</p>\n                                                            <span>Temps round 1 et 2 (conseil 45s)</span>\n                                                            <p>{ rules?.numberOfWords === null ? \"45\" : rules?.time }</p>\n                                                            <span>Temps round 3 (conseil 90s)</span>\n                                                            <p>{ rules?.numberOfWords === null ? \"90\" : rules?.timeDraw }</p>                                               \n                                                        </div>\n    \n                                                        : ''\n                                                    }\n                                                </>\n                                            }                                    \n                                        </div>\n                                    </div>\n                                    <div className=\"w-auto\">\n                                        <button className=\"room-bouton\" onClick={() => setDisplayAddWord(!displayAddWord)} type=\"button\">\n                                            Ajouter un mot <i className=\"fas fa-caret-down\"></i>\n                                        </button>\n                                        <div className=\"position-dropdown\">\n                                            { displayAddWord \n                                                ? <form onSubmit={handleAddWord} className=\"dropdowned-item row dropdown-unfold justify-content-between\">\n                                                    <input value={word} onChange={(e) => setWord(e.target.value)} className=\"w-75 mr-3\" type=\"text\"/>\n                                                    <button type=\"submit\"><i className=\"fas fa-check\"></i></button>\n                                                </form>\n        \n                                                : ''\n                                            }\n                                        </div>\n                                    </div>\n                                    { roomData.admin.id === socketRef.current.id \n                                        ? <button className=\"room-bouton\" onClick={() => setDisplayCreateTeam(!displayCreateTeam)}>CrÃ©er Ãquipes</button>\n\n                                        : ''\n                                    }\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"container\">\n                            <div className=\"row mt-3 justify-content-between\">\n                                <div className=\"col-md-4 users\">\n                                    <div className=\"row justify-content-between\">\n                                        <p className=\"word-count-all\">{wordsLength}/{rules && users && users?.length > 3 ? rules?.numberOfWords * users?.length : \"20\"}</p>\n                                        <h3 className=\"mt-2\">Joueurs</h3>\n                                        <p className=\"word-count-perso\">{words.length}/{rules && rules.numberOfWords !== null ? rules.numberOfWords : \"3\"}</p>\n                                    </div>\n                                    <ul>\n                                        { users !== undefined\n                                            ? users.map((user, index) => {\n                                                if (roomData.admin.id === user.id) {\n                                                    return <li key={index} className=\"grow\">\n                                                                <p>{user.pseudo} <i className=\"fas fa-star\"></i></p>\n                                                        </li>\n                                                } else {                                        \n                                                    return <li key={index} className=\"grow\">\n                                                                <p>{user.pseudo}</p>\n                                                        </li>\n                                                }\n                                            })\n        \n                                            : ''\n                                        }\n                                    </ul>\n                                </div>\n                                { displayCreateTeam\n                                    ? <CreateTeams idRoom={roomData.id} socketRef={socketRef} />\n                                \n                                    : <Messenger idRoom={roomData.id} socketRef={socketRef} />                            \n                                }                                \n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n            }\n        </>\n    )\n}\n\nexport default Room\n"]},"metadata":{},"sourceType":"module"}